(this["webpackJsonppost-a-favourite-film"]=this["webpackJsonppost-a-favourite-film"]||[]).push([[0],{14:function(e,t,s){},15:function(e,t,s){},16:function(e,t,s){},18:function(e,t,s){"use strict";s.r(t);var n=s(1),a=s.n(n),r=s(5),c=s.n(r),o=(s(14),s(15),s(2)),i=s(4),h=s(6),l=s(7),u=s(9),m=s(8),j=(s(16),s(0)),d=function(e){Object(u.a)(s,e);var t=Object(m.a)(s);function s(e){var n;return Object(h.a)(this,s),(n=t.call(this,e)).handleChange=function(e){n.setState({data:Object(i.a)(Object(i.a)({},n.state.data),{},Object(o.a)({},e.target.name,e.target.value))})},n.handleSubmit=function(e){e.preventDefault(),n.setState({response:""});var t={headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(n.state.data)};fetch("https://post-a-form.herokuapp.com/api/movies",t).then((function(e){return e.json()})).then((function(e){return e.error?n.setState({success:!1,response:e.error}):n.setState({success:!0,response:"Movie #".concat(e," has been successfully added!")})}))},n.state={data:{title:"",poster:"",comment:""}},n}return Object(l.a)(s,[{key:"render",value:function(){var e=this.state.data,t=e.title,s=e.poster,n=e.comment;return Object(j.jsxs)("div",{className:"movieForm",children:[Object(j.jsx)("h1",{children:"Add a movie form"}),this.state.response&&(this.state.success?Object(j.jsx)("div",{className:"success response",children:this.state.response}):Object(j.jsxs)("div",{className:"error response",children:[" ",this.state.response," "]})),Object(j.jsxs)("form",{className:"form",onSubmit:this.handleSubmit,children:[Object(j.jsx)("label",{htmlFor:"title",children:"Title"}),Object(j.jsx)("input",{type:"text",name:"title",value:t,onChange:this.handleChange}),Object(j.jsx)("label",{htmlFor:"poster",children:"Poster"}),Object(j.jsx)("input",{type:"text",name:"poster",value:s,onChange:this.handleChange}),Object(j.jsx)("label",{htmlFor:"comment",children:"Comment"}),Object(j.jsx)("textarea",{type:"text",rows:"5",name:"comment",value:n,onChange:this.handleChange}),Object(j.jsx)("button",{type:"submit",children:"Send a movie"})]})]})}}]),s}(a.a.Component);var p=function(){return Object(j.jsx)("div",{className:"App",children:Object(j.jsx)(d,{})})};c.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(p,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.e861c031.chunk.js.map